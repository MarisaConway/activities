(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(66)},37:function(e,t,a){},38:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(28),c=a.n(r),l=(a(37),a(8)),o=a(9),s=a(11),u=a(10),m=a(12),v=(a(38),a(14)),p=a(13),h=a(31),y=a(4),E=a.n(y);var g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){E.a.get("/activities").then(function(e){a.setState({activities:e.data.activities},function(){a.rateThings()})}).catch(function(e){console.log(e)})},a.rateThings=function(){var e=Object(h.a)(a.state.activities);for(var t in setTimeout(function(){console.log("hello",e)},1e3),e)if(e[t].reviews.length>0){var n=0,i=!0,r=!1,c=void 0;try{for(var l,o=e[t].reviews[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){n+=l.value.rating}}catch(s){r=!0,c=s}finally{try{i||null==o.return||o.return()}finally{if(r)throw c}}e[t].avgRating=n/e[t].reviews.length}else e[t].avgRating="No reviews";e=function(e,t){for(var a=0;a<e.length-1;a++)for(var n=0;n<e.length-1-a;n++)if(e[n][t]<e[n+1][t]){var i=e[n];e[n]=e[n+1],e[n+1]=i}return e}(e,"avgRating"),a.setState({activities:e})},a.state={activities:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Activities"),i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Type"),i.a.createElement("th",null,"Rating"),i.a.createElement("th",null,"Duration"),i.a.createElement("th",null,"Actions"))),i.a.createElement("tbody",null,this.state.activities.map(function(e){return i.a.createElement("tr",{key:e._id},i.a.createElement("td",null,e.type),i.a.createElement("td",null,e.avgRating),i.a.createElement("td",null,e.duration," ",e.units),i.a.createElement("td",null,i.a.createElement(v.b,{to:"/activity/"+e._id+"/edit"},i.a.createElement("button",null,"Edit")),i.a.createElement(v.b,{to:"/activity/"+e._id+"/review"},i.a.createElement("button",null,"Review"))))}))))}}]),t}(n.Component),d=a(3),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).changeType=function(e){a.setState({activity:Object(d.a)({},a.state.activity,{type:e.target.value})})},a.changeDuration=function(e){a.setState({activity:Object(d.a)({},a.state.activity,{duration:e.target.value})})},a.changeUnits=function(e){a.setState({activity:Object(d.a)({},a.state.activity,{units:e.target.value})})},a.create=function(e){e.preventDefault(),E.a.post("/activities",a.state.activity).then(function(e){e.data.errors?(a.setState({errors:e.data.errors.errors}),console.log(a.state)):a.props.history.push("/")}).catch(function(e){console.log(e)})},a.state={activity:{type:"",duration:"",units:"Years"},errors:{}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Create Activity"),i.a.createElement("form",{onSubmit:this.create},i.a.createElement("p",null,"Type:\xa0",i.a.createElement("input",{type:"text",onChange:this.changeType}),this.state.errors.type?i.a.createElement("span",{className:"error"},"\xa0",this.state.errors.type.message):i.a.createElement("span",null)),i.a.createElement("p",null,"Duration:\xa0",i.a.createElement("input",{type:"number",onChange:this.changeDuration}),this.state.errors.duration?i.a.createElement("span",null,"\xa0",this.state.errors.duration.message):i.a.createElement("span",null)),i.a.createElement("p",null,"Units:\xa0",i.a.createElement("select",{onChange:this.changeUnits},i.a.createElement("option",null,"Years"),i.a.createElement("option",null,"Months"),i.a.createElement("option",null,"Days"),i.a.createElement("option",null,"Hours"),i.a.createElement("option",null,"Minutes"),i.a.createElement("option",null,"Seconds"))),i.a.createElement("button",{type:"submit"},"Create Activity")))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){E.a.get("/activities/".concat(a.props.match.params._id)).then(function(e){a.setState({activity:e.data.activity})}).catch(function(e){console.log(e)})},a.changeType=function(e){a.setState({activity:Object(d.a)({},a.state.activity,{type:e.target.value})})},a.changeDuration=function(e){a.setState({activity:Object(d.a)({},a.state.activity,{duration:e.target.value})})},a.changeUnits=function(e){a.setState({activity:Object(d.a)({},a.state.activity,{units:e.target.value})})},a.update=function(e){e.preventDefault(),console.log(a.state),E.a.put("/activities/".concat(a.props.match.params._id),a.state.activity).then(function(e){e.data.errors?a.setState({errors:e.data.errors.errors}):a.props.history.push("/")}).catch(function(e){console.log(e)})},a.delete=function(e){E.a.delete("/activities/".concat(a.props.match.params._id)).then(function(e){a.props.history.push("/")}).catch(function(e){console.log(e)})},a.state={activity:{type:"",duration:"",units:"Years"},errors:{}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Edit Activity"),i.a.createElement("form",{onSubmit:this.update},i.a.createElement("p",null,"Type:\xa0",i.a.createElement("input",{type:"text",onChange:this.changeType,value:this.state.activity.type}),this.state.errors.type?i.a.createElement("span",{className:"error"},"\xa0",this.state.errors.type.message):i.a.createElement("span",null)),i.a.createElement("p",null,"Duration:\xa0",i.a.createElement("input",{type:"number",onChange:this.changeDuration,value:this.state.activity.duration}),this.state.errors.duration?i.a.createElement("span",null,"\xa0",this.state.errors.duration.message):i.a.createElement("span",null)),i.a.createElement("p",null,"Units:\xa0",i.a.createElement("select",{id:"select",onChange:this.changeUnits,value:this.state.activity.units},i.a.createElement("option",{value:"Years"},"Years"),i.a.createElement("option",{value:"Months"},"Months"),i.a.createElement("option",{value:"Days"},"Days"),i.a.createElement("option",{value:"Hours"},"Hours"),i.a.createElement("option",{value:"Minutes"},"Minutes"),i.a.createElement("option",{value:"Seconds"},"Seconds"))),i.a.createElement("button",{type:"submit"},"Update Activity")),i.a.createElement("button",{onClick:this.delete},"Delete Activity"))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){E.a.get("/activities/".concat(a.props.match.params._id)).then(function(e){a.setState({activity:e.data.activity})}).catch(function(e){console.log(e)})},a.review=function(e){e.preventDefault(),E.a.post("/activities/".concat(a.props.match.params._id,"/review"),a.state.review).then(function(e){a.componentDidMount()}).catch(function(e){console.log(e)})},a.changeName=function(e){a.setState({review:Object(d.a)({},a.state.review,{name:e.target.value})})},a.changeRating=function(e){a.setState({review:Object(d.a)({},a.state.review,{rating:e.target.value})})},a.changeDescription=function(e){a.setState({review:Object(d.a)({},a.state.review,{description:e.target.value})})},a.state={activity:{type:"",duration:"",units:"Years",reviews:[]},review:{name:"",rating:3,description:""},errors:{}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h3",null,"Activity: ",this.state.activity.type," "),i.a.createElement("h4",null,"Duration:  ",this.state.activity.duration," ",this.state.activity.units),i.a.createElement("h4",null,"Review:"),i.a.createElement("hr",null),this.state.activity.reviews.map(function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("p",null,i.a.createElement("strong",null,e.name," says: ")," \xa0",e.description),i.a.createElement("p",null,e.rating),i.a.createElement("hr",null))}),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Review Activity"),i.a.createElement("form",{onSubmit:this.review},i.a.createElement("p",null,"Name:\xa0",i.a.createElement("input",{type:"text",onChange:this.changeName})),i.a.createElement("p",null,"Rating:\xa0",i.a.createElement("input",{type:"number",onChange:this.changeRating})),i.a.createElement("p",null,"Description:\xa0",i.a.createElement("input",{type:"text",onChange:this.changeDescription})),i.a.createElement("button",{type:"submit"},"Review Activity"))))}}]),t}(n.Component),j=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Welcome to Activity Reviews"),i.a.createElement(v.a,null,i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement(v.b,{to:"/"},"Home")),i.a.createElement("li",null,i.a.createElement(v.b,{to:"/activity/new"},"New Activity"))),i.a.createElement(p.a,{exact:!0,path:"/",component:g}),i.a.createElement(p.a,{path:"/activity/new",component:f}),i.a.createElement(p.a,{path:"/activity/:_id/edit",component:b}),i.a.createElement(p.a,{path:"/activity/:_id/review",component:w})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.49fdf518.chunk.js.map